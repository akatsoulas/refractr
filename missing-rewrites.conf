# This virtual host redirects requests made by the live bookmark in Firefox's
# default personal toolbar, the purpose of which is to demonstrate the feature.
<VirtualHost *:80>
    ServerName fxfeeds.mozilla.org
    ServerAlias fxfeeds.mozillazine.org
    ServerAlias fxfeeds.mozilla.com
    ServerAlias *.fxfeeds.mozilla.com

    # 302's still set Content-Type: text/html, according to curl
    ExpiresActive on
    ExpiresByType text/html "access plus 1 week"
    Header set Cache-Control "max-age=604800"

    RewriteEngine On

    # catch old clients on Japanese FF 1.5 and older
    RewriteCond %{HTTP_HOST} =^fxfeeds\.mozilla-japan\.org$
    RewriteRule ^/rss20\.xml$ /ja/firefox/headlines.xml

    RewriteRule ^/af/firefox/headlines.xml http://www.news24.com/News24v2/Components/Generic/news24RSSFeed/0,,3,00.xml [R]
    RewriteRule ^/as/firefox/headlines.xml http://www.bbc.co.uk/hindi/index.xml [R]
    RewriteRule ^/ast/firefox/headlines.xml http://www.europapress.es/rss/rss.aspx?ch=395 [R]
    RewriteRule ^/bg/firefox/headlines.xml http://dnevnik.bg/rss/ [R]
    RewriteRule ^/be/firefox/headlines.xml http://nn.by/rss.php [R]
    RewriteRule ^/bn-BD/firefox/headlines.xml http://rss.bdnews24.com/rss/bangla/home/rss.xml [R]
    RewriteRule ^/bn-IN/firefox/headlines.xml http://www.telegraphindia.com/feeds/rss.jsp?id=3 [R]
    RewriteRule ^/br/firefox/headlines.xml http://www.agencebretagnepresse.com/rss-all.php [R]
    RewriteRule ^/bs/firefox/headlines.xml http://www.mojportal.ba/rssfeed/7 [R]
    RewriteRule ^/ca/firefox/headlines.xml http://www.vilaweb.cat/media/rss/noticies_edicio_333_rss.xml [R]
    RewriteRule ^/cs/firefox/headlines.xml http://firefox-rss.ceskenoviny.cz/ [R]
    RewriteRule ^/csb/firefox/headlines.xml http://www.gazeta.pl/pub/rss/wiadomosci.xml [R]
    RewriteRule ^/cy/firefox/headlines.xml http://newsrss.bbc.co.uk/rss/welsh/newyddion/rss.xml [R]
    RewriteRule ^/da/firefox/headlines.xml http://www.dr.dk/Forms/Published/rssNewsFeed.aspx?config=4cdd8bff-48a5-461c-a848-f553db411d4c&rss=Yes&rssTitle=DR+Nyheder+Online+-+Alle+nyheder&overskrift=Alle+nyheder+-+24+timer&Url=\%2fnyheder\%2f&escaping=Yes [R,NE]
    RewriteRule ^/de/firefox/headlines.xml http://www.tagesschau.de/xml/rss2 [R]
    RewriteRule ^/el/firefox/headlines.xml http://news.google.gr/nwshp?hl=el&tab=wn&output=rss [R]
    RewriteRule ^/en-GB/firefox/headlines.xml http://news.bbc.co.uk/rss/newsonline_uk_edition/front_page/rss.xml [R]
    RewriteRule ^/eo/firefox/headlines.xml http://www.liberafolio.org/search_rss?SearchableText=&Title=&Description=&portal_type:list=News+Item&portal_type:list=Link&portal_type:list=Document&Creator=redakcio&submit=Search&sort_on=created&sort_order=reverse&review_state=published&sort_limit:int=20 [R]
    RewriteRule ^/es-AR/firefox/headlines.xml http://www.clarin.com/diario/hoy/um/sumariorss.xml [R]
    RewriteRule ^/es-CL/firefox/headlines.xml http://latercera.com/app/rss?sc=TEFURVJDRVJB&ul=1 [R]
    RewriteRule ^/es-ES/firefox/headlines.xml http://www.20minutos.es/rss/ [R]
    RewriteRule ^/es-MX/firefox/headlines.xml http://www.eluniversal.com.mx/rss/universalmxm.xml [R]

    RewriteRule ^/et/firefox/headlines.xml http://www.postimees.ee/rss/ [R]
    RewriteRule ^/eu/firefox/headlines.xml http://www.berria.info/rss/berria.php [R]
    RewriteRule ^/fa/firefox/headlines.xml http://news.parseek.com/rss/ [R]
    RewriteRule ^/fi/firefox/headlines.xml http://www.yle.fi/uutiset/rss/paauutiset.xml [R]
    RewriteRule ^/fr/firefox/headlines.xml http://www.lemonde.fr/rss/sequence/0,2-3208,1-0,0.xml?nav=firefox [R]
    RewriteRule ^/fy-NL/firefox/headlines.xml http://www.omropfryslan.nl/rss [R]
    RewriteRule ^/ga-IE/firefox/headlines.xml http://gaelport.com/rss.php [R]
    RewriteRule ^/gd/firefox/headlines.xml http://www.bbc.co.uk/scotland/alba/naidheachdan/index.xml [R]
    RewriteRule ^/gl/firefox/headlines.xml http://chuza.org/rss2.php [R]
    RewriteRule ^/he/firefox/headlines.xml http://www.ynet.co.il/Integration/StoryRss2.xml [R]
    RewriteRule ^/hi-IN/firefox/headlines.xml http://www.bbc.co.uk/hindi/index.xml [R]
    RewriteRule ^/hu/firefox/headlines.xml http://24ora.index.hu/?rss&keres=&szerzokeres=&rovatkeres=osszes&order=1 [R]
    RewriteRule ^/hy-AM/firefox/headlines.xml http://news.am/arm/rss/ [R]
    RewriteRule ^/id/firefox/headlines.xml http://sindikasi.okezone.com/index.php/news/RSS2.0 [R]
    RewriteRule ^/is/firefox/headlines.xml http://www.mbl.is/mm/rss/forsida.xml [R]
    RewriteRule ^/it/firefox/headlines.xml http://static.adnkronos.com/rss/RSS_FireFox.xml [R]
    RewriteRule ^/ja/firefox/headlines.xml http://mainichi.jp/rss/etc/mainichi.rss [R]
    RewriteRule ^/kk/firefox/headlines.xml http://www.azattyq.org/rss/ [R]
    RewriteRule ^/kn/firefox/headlines.xml http://sampada.net/node/feed [R]
    RewriteRule ^/ko/firefox/headlines.xml http://news.google.co.kr/?output=rss [R]
    RewriteRule ^/lt/firefox/headlines.xml http://www.lrt.lt/rss/all.php [R]
    RewriteRule ^/lv/firefox/headlines.xml http://www.delfi.lv/rss.php [R]
    RewriteRule ^/ml/firefox/headlines.xml http://mangalam.com/rss/rssm.php [R]
    RewriteRule ^/mk/firefox/headlines.xml http://www.makdenes.org/rss/ [R]
    RewriteRule ^/mr/firefox/headlines.xml http://www.bbc.co.uk/hindi/index.xml [R]
    RewriteRule ^/nb-NO/firefox/headlines.xml http://www.nrk.no/nyheiter/toppsaker.rss [R]
    RewriteRule ^/nl/firefox/headlines.xml http://feeds.nos.nl/nosnieuws [R]
    RewriteRule ^/nn-NO/firefox/headlines.xml http://www.nrk.no/nyheiter/toppsaker.rss [R]
    RewriteRule ^/oc/firefox/headlines.xml http://www.ostaldoccitania.net/data/newsoc.xml [R]
    RewriteRule ^/or/firefox/headlines.xml http://newsrss.bbc.co.uk/rss/newsonline_world_edition/south_asia/rss.xml [R]
    RewriteRule ^/pl/firefox/headlines.xml http://www.gazeta.pl/pub/rss/wiadomosci.xml [R]
    RewriteRule ^/pt-BR/firefox/headlines.xml http://www.estadao.com.br/rss/ultimas.xml?source=fx [R]
    RewriteRule ^/pt-PT/firefox/headlines.xml http://www.destakes.com/ultimas/?cat=newspaper&format=rss [R]
    RewriteRule ^/rm/firefox/headlines.xml http://www.rtr.ch/categoriesFeed/d5e1ee01-34db-4f20-953b-f3781243bf8d,b7192a1e-7f70-4441-9fbe-d8c50a4d9ffe,0b6aafe7-505b-4ba1-af67-b2fd0cb7c801,2de65430-024f-43fc-8b5c-8135ce6dd7c4,83545462-f436-4074-838c-9047b47d5cd9 [R]
    RewriteRule ^/ro/firefox/headlines.xml http://www.bbc.co.uk/romanian/index.xml [R]
    RewriteRule ^/ru/firefox/headlines.xml http://news.rambler.ru/rss/head/ [R]
    RewriteRule ^/si/firefox/headlines.xml http://blogs.sinhalabloggers.com/feed/ [R]
    RewriteRule ^/sk/firefox/headlines.xml http://rss.sme.sk/rss/rss.asp?sek=smeonline&id=frontpage [R]
    RewriteRule ^/sl/firefox/headlines.xml http://rss.24ur.com/index.rss [R]
    RewriteRule ^/sq/firefox/headlines.xml http://www.bbc.co.uk/albanian/index.xml [R]
    RewriteRule ^/sr/firefox/headlines.xml http://www.naslovi.net/rss/ [R]
    RewriteRule ^/sv-SE/firefox/headlines.xml http://api.sr.se/api/rssfeed/rssfeed.aspx?rssfeed=83 [R]
    RewriteRule ^/ta/firefox/headlines.xml http://www.bbc.co.uk/tamil/index.xml [R]
    RewriteRule ^/ta-LK/firefox/headlines.xml http://www.bbc.co.uk/tamil/index.xml [R]
    RewriteRule ^/te/firefox/headlines.xml http://in.telugu.yahoo.com/rss/news.xml [R]
    RewriteRule ^/th/firefox/headlines.xml http://newsrss.bbc.co.uk/rss/newsonline_world_edition/asia-pacific/rss.xml [R]
    RewriteRule ^/tr/firefox/headlines.xml http://www.ntvmsnbc.com/id/3032091/device/rss/rss.xml [R]
    RewriteRule ^/uk/firefox/headlines.xml http://www.bbc.co.uk/ukrainian/index.xml [R]
    RewriteRule ^/vi/firefox/headlines.xml http://vietnamnet.vn/rss/index.rss [R]
    RewriteRule ^/zh-TW/firefox/headlines.xml http://web.pts.org.tw/php2/rss/xml/ptsnews.xml [R]
    RewriteRule ^/zh-CN/firefox/headlines.xml http://rss.sina.com.cn/news/marquee/ddt.xml [R]

    RewriteRule ^/(\w{2,3}(-\w{2,3}(-mac)?)?)/(.*) http://fxfeeds.mozilla.com/$4 [R]
    RewriteRule ^/(firefox/)?livebookmarks(.*)$ http://www.mozilla.org/firefox/livebookmarks.html [R]

    Redirect temp /rss20.xml http://newsrss.bbc.co.uk/rss/newsonline_world_edition/front_page/rss.xml
    Redirect temp /firefox/headlines.xml http://newsrss.bbc.co.uk/rss/newsonline_world_edition/front_page/rss.xml
    Redirect temp / http://www.mozilla.org/firefox/livebookmarks.html

    # Don't log in three different ways: redirect log output to /dev/null,
    # log only the empty string, and log only if the "nonexistent" environment
    # variable exists (which it doesn't).  It'd be nice to just say "don't log",
    # but Apache apparently doesn't have that capability.  Duh.
    CustomLog /dev/null " " env=nonexistent

    # Do log errors, since those could be interesting to know about.
    ErrorLog logs/fxfeeds-error_log
</VirtualHost>
