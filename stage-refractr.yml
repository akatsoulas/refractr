# these domains will be given a cert and rule through
# the ingress.yaml.template by being added to the domains
# output from refractr.py
default-domains:
  - stage.mozilla-redirects.xyz
  - stage.refractr.mozit.cloud

default-headers:
  Strict-Transport-Security: '"max-age=60; includeSubDomains" always'

refracts:

- mozilla.org/:
  - refractr.allizom.org
  - wildcard.refractr.allizom.org
  #- '*.refractr.allizom.org'

- mozilla.com/: refractr1.allizom.org

- mozilla.org/: refractr2.allizom.org

- mozilla.org/:
  - malware-error.allizom.org
  - '*.malware-error.allizom.org'

- dsts:
  - /ja(?:-JP-mac)?/(firefox)(.*): 'addons.mozilla.jp/$1$2'
  - /: addons.mozilla.org/
  srcs: addons.mozilla.com
  status: 302
  tests:
    # this test must be specified because rewrites `^/(.*)` will not generate a test
  - http://addons.mozilla.com/ja-JP-mac/firefox/: https://addons.mozilla.jp/ja-JP-mac/firefox/
  #- http://addons.mozilla.com/en-us/seamonkey/: https://addons.mozilla.org/en-us/seamonkey/browse/type:3
#  - http://addons.mozilla.com/en-us/seamonkey/: https://addons.mozilla.org/test/should/fail